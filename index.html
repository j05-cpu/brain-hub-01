function showResult(){
  var lbl=document.getElementById("share-label");
  var icon=document.getElementById("btn-share").querySelector(".share-icon");
  lbl.textContent="Share Your Score";
  document.getElementById("btn-share").classList.remove("copied");
  icon.textContent="üì§";
  showScreen("screen-result");

  var sr=commitStreak();
  var d=DIFF[selectedDiff];
  var aiScore=d.aiMin+Math.floor(Math.random()*(d.aiMax-d.aiMin+1));
  var userScore=score;
  var tier=perfTiers[0];
  for(var i=0;i<perfTiers.length;i++){if(userScore<=perfTiers[i].max){tier=perfTiers[i];break;}}

  document.getElementById("rsl-user").textContent=userScore+"/5";
  document.getElementById("rsl-ai").textContent="...";

  var msEl=document.getElementById("streak-milestone");
  msEl.className="streak-milestone";
  msEl.textContent="";
  if(sr.wasReset){msEl.className="streak-milestone show";msEl.textContent="üíî Streak reset ‚Äî but you're back! New streak started üî•";}
  else if(sr.isNew&&sr.streak>=7){msEl.className="streak-milestone show";msEl.textContent="üèÖ "+sr.streak+"-day streak ‚Äî you're on fire! üî•";}
  else if(sr.isNew&&sr.streak>=3){msEl.className="streak-milestone show";msEl.textContent="üî• "+sr.streak+"-day streak! Keep it going!";}
  else if(sr.isNew&&sr.streak===1){msEl.className="streak-milestone show";msEl.textContent="üî• Streak started! Come back tomorrow to build it up!";}

  var drbEl=document.getElementById("diff-result-badge");
  drbEl.className="diff-result-badge "+d.badgeCls;
  drbEl.textContent=d.icon+" vs "+d.label;

  var perfEl=document.getElementById("perf-tier");
  perfEl.className="perf-tier "+tier.cls;
  perfEl.innerHTML="<span>"+tier.icon+"</span><span>"+tier.label+"</span>";

  document.getElementById("result-emoji").textContent="ü§ñ";
  document.getElementById("result-title").textContent="AI is analyzing your performance...";
  document.getElementById("result-verdict").textContent="";

  document.getElementById("ai-big-score").textContent="?";
  document.getElementById("user-big-score").textContent=userScore;
  document.getElementById("ai-bar-label").textContent="";
  document.getElementById("user-bar-label").textContent=userScore+"/5";
  document.getElementById("ai-bar").style.width="0";
  document.getElementById("user-bar").style.width="0";

  var banner=document.getElementById("verdict-banner");
  banner.textContent="";
  banner.className="verdict-banner";
  banner.style.display="none";

  document.getElementById("score-comparison").style.opacity="0";
  document.getElementById("score-comparison").style.transition="opacity 0.5s ease";

  setTimeout(function(){
    var emoji,title,vCls,vTxt,blurb;
    if(userScore>aiScore){emoji="üèÜ";title="You Beat the AI!";vCls="verdict-win";vTxt="üéâ You beat AI!";blurb="You scored "+userScore+"/5 while the "+d.label+" only managed "+aiScore+"/5. Outstanding!";}
    else if(userScore===aiScore){emoji="ü§ù";title="You Matched the AI!";vCls="verdict-tie";vTxt="ü§ù You matched AI.";blurb="Both you and the "+d.label+" scored "+userScore+"/5. A perfect tie ‚Äî try a harder difficulty!";}
    else{emoji="ü§ñ";title="AI Wins This Round";vCls="verdict-lose";vTxt="ü§ñ AI wins this round.";blurb="The "+d.label+" scored "+aiScore+"/5 vs your "+userScore+"/5. Don't give up ‚Äî try again!";}

    document.getElementById("rsl-ai").textContent=aiScore+"/5";
    document.getElementById("result-emoji").textContent=emoji;
    document.getElementById("result-title").textContent=title;
    document.getElementById("result-verdict").textContent=blurb;

    document.getElementById("ai-big-score").textContent=aiScore;
    document.getElementById("ai-bar-label").textContent=aiScore+"/5";

    document.getElementById("score-comparison").style.opacity="1";
    banner.style.display="inline-block";
    banner.textContent=vTxt;
    banner.className="verdict-banner "+vCls;

    document.getElementById("ai-bar").style.width=(aiScore/5*100)+"%";
    document.getElementById("user-bar").style.width=(userScore/5*100)+"%";

    shareText="I scored "+userScore+"/5 and got "+tier.icon+" "+tier.label+" in Are You Smarter Than AI! Can you beat me?";
  },1500);
}